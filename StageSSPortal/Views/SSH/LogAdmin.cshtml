
@{
    ViewBag.Title = "LogAdmin";
}
<style>
    table#LijstServerVMs {
        width: 15%;
        float: left;
        margin-right: 1%;
    }

    table#LijstKlanten {
        width: 15%;
        float: left;
        margin-right: 1%;
    }

    table#LijstKlanten {
        width: 15%;
    }

    table#LijstLogs {
        width: 25%;
    }

    table#LijstKlantLogs {
        width: 25%;
    }

    div#ShowKlanten {
        float: left;
        position: relative;
    }

    .LogRowEmpty {
        text-align: center;
    }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<h2>Audits Admin</h2>
@Scripts.Render("~/Scripts/changePass.js")
@Scripts.Render("~/Scripts/LogAdmin.js")
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
//    $(document).ready(function () {
//        $("table#LijstServerVMs").delegate("tr:not(:first)", "click", function () {
//            $(".VmRow").css("color", "rgb(0, 0, 0)");
//            $(".AdminRow").css("color", "rgb(0, 0, 0)");
//            $(this).css("color", "rgb(244, 78, 66)");
//            ShowLogsVM();
//        });
//        $("table#LijstKlanten").delegate("tr:not(:first)", "click", function () {
//            $(".VmRow").css("color", "rgb(0, 0, 0)");
//            $(".AdminRow").css("color", "rgb(0, 0, 0)");
//            $(this).css("color", "rgb(244, 78, 66)");
//            ShowLogsKlant();
//        });
//        //$(".AdminRow").delegate("tr", "click", function () {
//        //    $(".AdminRow").css("color", "rgb(0, 0, 0)");
//        //    $(this).css("color", "rgb(244, 78, 66)");
//        //    ShowLogsAdmin();
//        //});
//        //$("select").hide();
//        getServersDB();
//        $("select").hide();
//        $(".Vm").change(function () {
//            if ($("input.Vm").prop('checked', true)) {
//                $("input.Klant").prop('checked', false);
//                //showToegekend();
//                $("#ShowLogs").css("display", "none");
//                $("#ShowKlantLogs").css("display", "none");
//                $("#servers").css("display", "block");
//                showVmNames($("#servers").val(), true);
//            }
//        })
//        $(".Klant").change(function () {
//            if ($("input.Klant").prop('checked', true)) {
//                $("input.Vm").prop('checked', false);
//                //showNietToegekend();
//                $("#ShowLogs").css("display", "none");
//                $("#ShowKlantLogs").css("display", "none");
//                $(".VmRow").css("color", "inherit");
//                loadKlanten();
//            }
//        })
//        //loadKlanten();
//    });
//    //===========SERVERS====================
//    function getServersDB() {
//        $.ajax("/api/ssh/getServersDB", {
//            type: "GET",
//            dataType: "json"
//        })
//            .done(function (data) {
//                $.each(data, function (index, value) {
//                    $("#servers").append("<option class='" + value.ServersId + "'value='" + value.Id + "' > " + value.ServerNaam + "</option > ");
//                })
////                $("#servers").css("display", "block");
//                $("#servers").change(function () {
//                    showVmNames($("#servers").val());
//                })
//            })
//    }

//    //=============KLANTEN===================
//    function ShowLogsAdmin() {
//        //alert("heheh")
//        $(".VmRow").css("color", "rgb(0, 0, 0)");
//        $.ajax("/api/Klant/SSH/LogLijstUser", {
//            type: "GET",
//            dataType: "json"
//        })
//            .done(function (data) {
//            $.each(data, function (index, value) {
//                $("table#LijstKlantLogs").append("<tr  class=LogRow><td>" + value.Gebruiker + "</td><td>" + value.Ovm + "</td> <td> " + value.Naam + "</td><td>" + value.ActionDate + "</td>" + "</tr>");
//            })
//            $("#ShowKlantLogs").show();
//        })
//    }

//    function ShowLogsKlant() {
//        $("table#LijstKlantLogs").find("tr:not(:first)").remove();

//        var id;
//        $("tr.VmRow").each(function () {
//            if ($(this).css('color') == "rgb(244, 78, 66)") {
//                id = $(this).attr('id');
//            }
//        })
//        // alert(id);
//        $.ajax("/api/Klant/SSH/LogLijstKlant/" + id, {
//            type: "GET",
//            dataType: "json"
//        })
//            .done(function (data) {
//                if (data == false) {
//                    $("table#LijstKlantLogs").append("<tr  class=LogRowEmpty><td colspan=4>" + "Nog geen Loglijsten" + "</td></tr>");
//                }
//                else {
//                $.each(data, function (index, value) {
//                    $("table#LijstKlantLogs").append("<tr  class=LogRow><td>" + value.Gebruiker + "</td><td>" + value.Ovm + "</td> <td> " + value.Naam + "</td><td>" + value.ActionDate + "</td>" + "</tr>");
//                    })
//                }
//                $("#ShowKlantLogs").show();
//            })
//    }
//    function loadKlanten() {
//        $("table#LijstKlanten").find("tr:not(:first)").remove();
//        //$("#VmInfo").css("display", "none");

//        $("select").hide();
//        //alert('test')
//        $("#ShowVms").hide();
//        $.ajax("/api/SSH/getAdmin", {
//            type: "GET",
//            dataType: "json"
//        })
//            .done(function (data) {
//                $("table#LijstKlanten").append("<tr  class=AdminRow id=" + data.AdminId + " onClick=ShowLogsAdmin()>" + "<td>" + data.Email + "</td></tr>");
//                $.ajax("/api/SSH/getKlanten", {
//                    type: "GET",
//                    dataType: "json"
//                })
//                    .done(function (data) {
//                        ShowKlanten(data)

//                    })
//                // alert(data);
//            });

//    }
//    function ShowKlanten(LijstKlanten) {
//       // $("table#LijstKlanten").append("<tr  class=VmRow id=" + klant.KlantId + ">" + "<td>" + klant.Email + "</td></tr>");
//        $.each(LijstKlanten, function (index, value) {
//            //alert(value)
//            addKlant(value);
//        })
//        $("#ShowKlanten").css("display", "block");

//    }
//    function addKlant(klant) {
//        $("table#LijstKlanten").append("<tr  class=VmRow id=" + klant.KlantId + ">" + "<td>" + klant.Email + "</td></tr>");
//        if (klant.IsKlantAccount == false) {
//            $("#" + klant.KlantId).css("font-weight", "bold");
//        }

//    }
//    //=============VMs=========================
//    function ShowLogsVM() {
//        $("table#LijstLogs").find("tr:not(:first)").remove();

//        var id;
//        $("tr.VmRow").each(function () {
//            if ($(this).css('color') == "rgb(244, 78, 66)") {
//                id = $(this).attr('id');
//            }
//        })
//       // alert(id);
//        $.ajax("/api/Klant/SSH/LogLijstOvm/"+id, {
//            type: "GET",
//            dataType: "json"
//        })
//            .done(function (data) {
//                if (data == false) {
//                    $("table#LijstLogs").append("<tr  class=LogRowEmpty><td colspan=3>" + "Nog geen Loglijsten" + "</td></tr>");
//                }
//                else {
//                    $.each(data, function (index, value) {
//                        $("table#LijstLogs").append("<tr  class=LogRow><td>" + value.Gebruiker + "</td> <td> " + value.Naam + "</td><td>" + value.ActionDate + "</td>" + "</tr>");
//                    })
//                }
//                    $("#ShowLogs").show();
//            })
//    }
//    function showVmNames(id, bool) {
//        //alert(id+bool);
//        $("#ShowKlanten").hide();

//        $("select").show();

//        $("div#btns").hide();
//        $("#btnSave").hide();
//        $(".VmRow").css("background-color", "inherit");
//        // alert("vmnames");
//        if ($("#ShowVms").css("display") != "none") {
//            $("table#LijstServerVMs").find("tr:not(:first)").remove();
//            $("#VmInfo").css("display", "none");
//        }
//        if (id == 0) {
//            $.ajax("/api/SSH/GetAllVmsDB", {
//                type: "GET",
//                dataType: "json"
//            })
//                .done(function (data) {
//                    ShowVms(data, bool);
//                    //alert(bool);
//                })
//        } else {
//            $.ajax("/api/SSH/vmsDB/" + id + "/", {
//                type: "GET",
//                dataType: "json"
//            })
//                .done(function (data) {
//                    ShowVms(data, bool);
//                })
//        };
//    }
//    function ShowVms(LijstServerVMs, bool) {
//        $.each(LijstServerVMs, function (index, value) {
//            addVM(value, bool);
//        })
//        $("#ShowVms").css("display", "block");

//    }
//    function addVM(vm, bool) {
//        if (vm.KlantId != 0) {
//            $("table#LijstServerVMs").append("<tr  class=VmRow id=" + vm.id + ">" + "<td>" + vm.Name + "</td>" /*+ "<td>" + vm.Status + "</td>"*/ + "</tr>");
//        }
//    }

</script>
<div id="scherm">

</div>
<div>
    <input class="Vm" type="checkbox" id="CheckKlant" name="chk_Klant" value="Toegewezen">Vms
    <input class="Klant" type="checkbox" id="CheckKlant" name="chk_Klant" value="Niet-Toegewezen">Klanten

</div>
<div>
    <select class="form-control" id="servers">
        <option>Kies Server</option>
        <option value="0">Alle servers</option>

    </select>
</div>
<div id="ShowVms" style="display:none">
    <table id="LijstServerVMs" class="table">
        <tr>
            <th>Name</th>

        </tr>
    </table>
</div>
<div id="ShowKlanten" style="display:none">
    <table id="LijstKlanten" class="table">
        <tr>
            <th>Name</th>

        </tr>
    </table>
</div>
<div id="ShowLogs" style="display:none">
    <table id="LijstLogs" class="table">
        <tr>
            <th>Gebruiker</th>
            <th>Actie</th>
            <th>Tijdstip</th>

        </tr>
    </table>
</div>
<div id="ShowKlantLogs" style="display:none">
    <table id="LijstKlantLogs" class="table">
        <tr>
            <th>Gebruiker</th>
            <th>Machine</th>
            <th>Actie</th>
            <th>Tijdstip</th>
        </tr>
    </table>
</div>
